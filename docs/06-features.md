# 功能规格

## 用户功能

### 1. 用户注册

| 场景 | 输入 | 验证规则 |
|------|------|----------|
| 注册 | 邮箱 | 必填，有效邮箱格式 |
| 注册 | 密码 | 至少 8 位，包含字母和数字 |
| 注册 | 用户名 | 必填，2-50 个字符 |

### 2. 用户登录

| 场景 | 输入 | 验证规则 |
|------|------|----------|
| 登录 | 邮箱 | 必填，有效邮箱格式 |
| 登录 | 密码 | 必填 |

### 3. 个人信息管理

- 查看个人信息
- 修改用户名
- 上传头像

---

## 项目功能

### 1. 项目管理

| 功能 | 描述 |
|------|------|
| 创建项目 | 设置项目名称和描述 |
| 编辑项目 | 修改项目名称和描述 |
| 删除项目 | 删除项目及所有任务（需确认） |
| 查看项目列表 | 显示所有参与的项目 |
| 搜索项目 | 按名称搜索 |

### 2. 项目成员

| 功能 | 描述 |
|------|------|
| 添加成员 | 通过邮箱邀请 |
| 移除成员 | 移除项目成员 |
| 设置角色 | OWNER / ADMIN / MEMBER |
| 查看成员列表 | 显示所有成员 |

---

## 任务功能

### 1. 任务状态

| 状态 | 描述 | 颜色标识 |
|------|------|----------|
| Backlog | 待整理 | Gray |
| Ready | 准备开始 | Blue |
| In Progress | 进行中 | Yellow |
| Review | 待审核 | Purple |
| Done | 已完成 | Green |

### 2. 任务优先级

| 优先级 | 描述 | 颜色标识 |
|--------|------|----------|
| Low | 低 | Gray |
| Medium | 中 | Blue |
| High | 高 | Orange |
| Urgent | 紧急 | Red |

### 3. 任务 CRUD

| 功能 | 描述 |
|------|------|
| 创建任务 | 设置标题、描述、状态、优先级、截止日期、负责人 |
| 编辑任务 | 修改任务信息 |
| 删除任务 | 删除任务（需确认） |
| 移动任务 | 拖拽到其他列 |
| 重新排序 | 在同一列内调整顺序 |

### 4. 任务依赖

| 功能 | 描述 |
|------|------|
| 添加依赖 | 选择前置任务 |
| 移除依赖 | 移除依赖关系 |
| 查看依赖 | 显示依赖关系图 |
| 依赖验证 | 阻止跳过未完成的依赖任务 |

---

## 看板功能

### 1. 看板列

| 功能 | 描述 |
|------|------|
| 创建列 | 添加新列 |
| 编辑列 | 修改列名、锁定状态 |
| 删除列 | 删除列 |
| 重新排序 | 调整列顺序 |

### 2. 列锁定

| 特性 | 描述 |
|------|------|
| 顺序锁定 | 锁定列中任务必须按顺序完成 |
| 解锁验证 | 检查前置任务和依赖是否完成 |
| 锁定提示 | 显示锁定状态和原因 |

### 3. 看板操作

| 功能 | 描述 |
|------|------|
| 拖拽移动 | 拖拽任务到不同列 |
| 拖拽排序 | 在列内调整任务顺序 |
| 列折叠 | 折叠/展开列（可选） |
| 过滤筛选 | 按状态、负责人筛选（可选） |

---

## 用户界面

### 1. 主题

| 主题 | 描述 |
|------|------|
| 浅色模式 | 默认浅色主题 |
| 深色模式 | 深色主题 |
| 系统跟随 | 跟随系统设置 |

### 2. 响应式设计

| 断点 | 描述 |
|------|------|
| 移动端 | 单列显示 |
| 平板 | 双列显示 |
| 桌面 | 多列显示 |

### 3. 辅助功能

- 键盘导航
- ARIA 标签
- 颜色对比度

---

## 通知与反馈

### 1. Toast 通知

| 类型 | 场景 |
|------|------|
| Success | 操作成功 |
| Error | 操作失败 |
| Warning | 警告提示 |
| Info | 信息提示 |

### 2. 加载状态

| 场景 | 显示 |
|------|------|
| 表单提交 | 按钮加载 |
| 数据加载 | 骨架屏 |
| 页面加载 | 加载动画 |

---

## 数据验证

### 前端验证

- 必填字段
- 邮箱格式
- 密码强度
- 字符长度限制

### 后端验证

- JWT 认证
- 权限检查
- 数据完整性验证
- 业务规则验证
